(this["webpackJsonpgoit-react-hw-04-movies"]=this["webpackJsonpgoit-react-hw-04-movies"]||[]).push([[4],{53:function(t,e,n){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.d(e,"a",(function(){return o}))},54:function(t,e,n){"use strict";function o(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function r(t,e,n){return e&&o(t.prototype,e),n&&o(t,n),t}n.d(e,"a",(function(){return r}))},55:function(t,e,n){"use strict";function o(t){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function r(t){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function c(t,e){return!e||"object"!==r(e)&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function i(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=o(t);if(e){var i=o(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return c(this,n)}}n.d(e,"a",(function(){return i}))},56:function(t,e,n){"use strict";function o(t,e){return(o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function r(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&o(t,e)}n.d(e,"a",(function(){return r}))},57:function(t,e,n){"use strict";n.d(e,"e",(function(){return i})),n.d(e,"c",(function(){return a})),n.d(e,"b",(function(){return u})),n.d(e,"a",(function(){return s})),n.d(e,"d",(function(){return f}));var o="bee2b3b8d9976a2be3aae8b77feecf89",r="https://api.themoviedb.org/3";function c(t){return fetch(t).then((function(t){return t.json()})).then((function(t){return t}))}function i(t){return c("".concat(r,"/trending/movie/day?api_key=").concat(o,"&language=en-US&page=").concat(t))}function a(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n="".concat(r,"/search/movie?api_key=").concat(o,"&query=").concat(t,"&page=").concat(e);return c(n)}function u(t){return c("".concat(r,"/movie/").concat(t,"?api_key=").concat(o))}function s(t){return c("".concat(r,"/movie/").concat(t,"/credits?api_key=").concat(o,"&language=en-US"))}function f(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n="".concat(r,"/movie/").concat(t,"/reviews?api_key=").concat(o,"&language=en-US&page=").concat(e);return c(n)}},58:function(t,e,n){t.exports={movieList:"HomePage_movieList__362IO",movieItem:"HomePage_movieItem__JJtEQ"}},59:function(t,e,n){"use strict";n(0);var o=n(60),r=n.n(o),c=n(1);e.a=function(t){var e=t.getNewPage;return Object(c.jsx)("button",{className:r.a.Button,type:"button","data-action":"load-more",onClick:e,children:"UP"})}},60:function(t,e,n){t.exports={Button:"Button_Button__vph8c"}},61:function(t,e,n){"use strict";function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function r(t){return function(t){if(Array.isArray(t))return o(t)}(t)||function(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(t){if("string"===typeof t)return o(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}n.d(e,"a",(function(){return r}))},68:function(t,e,n){"use strict";n.r(e);var o=n(61),r=n(53),c=n(54),i=n(56),a=n(55),u=n(0),s=n(10),f=n(57),l=n(58),p=n.n(l),h=(n(22),n(17)),m=n.n(h),b=n(59),d=n(1),y=function(t){Object(i.a)(n,t);var e=Object(a.a)(n);function n(){var t;Object(r.a)(this,n);for(var c=arguments.length,i=new Array(c),a=0;a<c;a++)i[a]=arguments[a];return(t=e.call.apply(e,[this].concat(i))).state={movies:[],page:1,error:!1,fetchLength:0,isLoading:!1},t.getTrendingMovies=function(e,n){var r=t.state.page;t.setState({isLoading:!0}),Object(f.e)(r).then((function(e){var n=e.results;t.setState((function(t){return{movies:[].concat(Object(o.a)(t.movies),Object(o.a)(n)),fetchLength:n.length}}))})).catch((function(e){t.setState({error:!0})})).finally((function(){t.setState({isLoading:!1}),window.scrollTo({top:document.documentElement,behavior:"smooth"})}))},t.setNewPage=function(e){e.preventDefault(),t.setState((function(t){return{page:t.page+1}}))},t}return Object(c.a)(n,[{key:"componentDidMount",value:function(){this.getTrendingMovies()}},{key:"componentDidUpdate",value:function(t,e){this.state.page!==e.page&&this.getTrendingMovies()}},{key:"render",value:function(){var t=this,e=this.state,n=e.movies,o=e.isLoading,r=e.fetchLength,c=this.props.location;return Object(d.jsxs)("div",{children:[Object(d.jsx)("h1",{children:"Trending today"}),o&&Object(d.jsx)(m.a,{type:"ThreeDots",color:"#3f51b5",height:100,width:100,timeout:3e3}),Object(d.jsx)("ul",{className:p.a.movieList,children:n&&n.map((function(e){return Object(d.jsx)("li",{className:p.a.movieItem,children:Object(d.jsx)(s.b,{to:{pathname:"".concat(t.props.match.url,"movies/").concat(e.id),state:{from:c}},children:Object(d.jsx)("img",{src:"https://image.tmdb.org/t/p/w300".concat(e.poster_path),alt:""})})},e.id)}))}),20===r&&!o&&Object(d.jsx)(b.a,{getNewPage:this.setNewPage})]})}}]),n}(u.Component);e.default=y}}]);
//# sourceMappingURL=4.aa1d09c7.chunk.js.map